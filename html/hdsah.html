<!DOCTYPE html>
<html>
<head>
    <title>Candlestick Chart</title>
    <style>
        #candleChart {
            width: 600px;
            height: 400px;
        }
        body {
            background: #1e1e2e;
            margin: 0;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div id="candleChart"></div>

    <!-- Используем правильную версию библиотеки -->
    <script src="https://unpkg.com/lightweight-charts@3.8.0/dist/lightweight-charts.standalone.production.js"></script>
    
    <script>
        // Создаем график
        const chart = LightweightCharts.createChart(document.getElementById('candleChart'), {
            layout: {
                background: { color: '#1e1e2e' },
                textColor: '#a1a1aa',
            },
            grid: {
                vertLines: { color: '#2d2d3d' },
                horzLines: { color: '#2d2d3d' },
            },
            timeScale: {
                timeVisible: true,
            },
        });

        // Добавляем свечной график (правильный метод)
        const candleSeries = chart.addCandlestickSeries({
            upColor: '#26a69a', // Зеленый для роста
            downColor: '#ef5350', // Красный для падения
            borderDownColor: '#ef5350',
            borderUpColor: '#26a69a',
            wickDownColor: '#ef5350',
            wickUpColor: '#26a69a',
        });

        // Пример данных (формат: time в секундах!)
        const data = [
            { time: 1672531200, open: 10, high: 15, low: 8, close: 12 }, // 1 янв 2023
            { time: 1672617600, open: 12, high: 14, low: 10, close: 11 }, // 2 янв 2023
            { time: 1672704000, open: 11, high: 13, low: 9, close: 13 }, // 3 янв 2023
            { time: 1672790400, open: 13, high: 15, low: 1, close: 1 }, // 4 янв 2023
        ];

        // Устанавливаем данные
        candleSeries.setData(data);

        // Настраиваем шкалу времени
        chart.timeScale().fitContent();
    </script>
</body>
</html>